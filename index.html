<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario Saica</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
</head>
<body>

<div class="card">
  <h2>Formulario Saica</h2>
  <p class="subtitle">Completa la siguiente informaci贸n</p>

  <form id="formulario">

    <!-- Tipo de Persona -->
    <label>驴Eres empleado de Saica o externo?</label>
    <select id="tipoPersona" name="tipoPersona" required>
      <option value="">Selecciona</option>
      <option value="saica">Empleado de Saica</option>
      <option value="externo">Externo</option>
    </select>

    <!-- Bloque Saica -->
    <div id="saicaBlock" class="hidden">
      <label>Empresa</label>
      <select id="empresaSelect" name="empresa">
        <option value="">Selecciona</option>
      </select>

      <div id="paisBlock" class="hidden">
        <label>Pa铆s</label>
        <select id="paisSelect" name="pais">
          <option value="">Selecciona un pa铆s</option>
        </select>
      </div>

      <div id="centroBlock" class="hidden">
        <label>Centro / Planta</label>
        <select id="centroSelect" name="centro">
          <option value="">Selecciona un centro</option>
        </select>
      </div>

      <div id="nombreSaicaBlock" class="hidden">
        <label>Nombre y apellidos</label>
        <input type="text" id="nombreSaica" name="nombreSaica" style="text-transform: uppercase">
      </div>
    </div>

    <!-- Bloque Externo -->
    <div id="externoBlock" class="hidden">
      <label>Nombre y apellidos</label>
      <input type="text" id="nombreExterno" name="nombreExterno" style="text-transform: uppercase">

      <div class="checkbox-container">
        <input type="checkbox" id="anonimo" name="anonimo">
        <label for="anonimo">Responder como an贸nimo</label>
      </div>

      <label>Correo electr贸nico</label>
      <input type="email" id="emailExterno" name="correoExterno" placeholder="nombre@ejemplo.com">
    </div>

    <!-- Bot贸n continuar -->
    <button type="button" id="btnContinuar">Continuar</button>

    <!-- Bloque mejora -->
    <div id="mejoraBlock" class="hidden">
      <label>驴D贸nde detectaste la mejora?</label>
      <select id="lugarMejora" name="lugarMejora">
        <option value="">Selecciona una opci贸n</option>
        <option value="Almac茅n">Almac茅n</option>
        <option value="Producci贸n">Producci贸n</option>
        <option value="Oficinas">Oficinas</option>
        <option value="Vestuarios">Vestuarios</option>
        <option value="Zonas Comunes">Zonas Comunes</option>
        <option value="Otros">Otros</option>
      </select>

      <div id="otrosBlock" class="hidden">
        <label>Indica d贸nde</label>
        <input type="text" id="otrosLugar" name="otrosLugar" style="text-transform: uppercase">
      </div>

      <div id="propuestaBlock" class="hidden">
        <label>Describe la propuesta de mejora de seguridad</label>
        <textarea id="propuesta" name="propuesta" rows="6" maxlength="500" style="width:100%;"></textarea>
        <div id="contadorPropuesta">0 / 500</div>

        <label for="fotosAdjuntas" style="cursor:pointer; color: green; font-weight:600;"> Adjuntar fotos</label>
        <input type="file" id="fotosAdjuntas" name="fotosAdjuntas" accept="image/*" multiple>

        <!-- Para /send-form no necesitas poner to_email en JS, se pone aqu铆 -->
        <input type="hidden" name="to_email" value="peimadin@gmail.com">

        <button type="submit">Enviar</button>
      </div>
    </div>
  </form>
</div>

<script src="app.js"></script>
</body>
</html>
